<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="shortcut icon" href="/notas-de-aprendizaje/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/notas-de-aprendizaje/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/notas-de-aprendizaje/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/notas-de-aprendizaje/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>Refactoring from good to great | Notes</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="Refactoring from good to great" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Keyvan Akbary learning notes" /> <meta property="og:description" content="Keyvan Akbary learning notes" /> <meta property="og:site_name" content="Notes" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Refactoring from good to great" /> <script type="application/ld+json"> {"@type":"WebPage","description":"Keyvan Akbary learning notes","url":"/notas-de-aprendizaje/talks/refactoring-from-good-to-great/","headline":"Refactoring from good to great","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/notas-de-aprendizaje/" class="site-title lh-tight"> Notes </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/notas-de-aprendizaje/articles/" class="nav-list-link">Articles</a><ul class="nav-list "></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/notas-de-aprendizaje/books/" class="nav-list-link">Books</a><ul class="nav-list "></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/notas-de-aprendizaje/talks/" class="nav-list-link">Talks</a><ul class="nav-list "></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/notas-de-aprendizaje/papers/" class="nav-list-link">Papers</a><ul class="nav-list "></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Notes" aria-label="Search Notes" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="//github.com/sanrm/notas-de-aprendizaje" class="site-button" > Notas de aprendizaje en GitHub </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/notas-de-aprendizaje/talks/">Talks</a></li> <li class="breadcrumb-nav-list-item"><span>Refactoring from good to great</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 id="refactoring-from-good-to-great"> <a href="#refactoring-from-good-to-great" class="anchor-heading" aria-labelledby="refactoring-from-good-to-great"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <a href="https://www.youtube.com/watch?v=L1G--mPscQM">Refactoring from good to great</a> </h1> <p>1) Temporal variables to private methods</p> <ul> <li>Reduces the number of methods</li> <li>We can reuse them</li> <li>Easier to read</li> <li>Hides implementation details 2) Feature envy (a class inspects other classes). Tell don’t ask</li> <li>Move logic to the object</li> <li>Behaviour closer to the data 3) Data clump (passing a lot of parameters)</li> <li>Better to pass a minimum number parameters as possible 4) Invert control. Instead of passing params we pass the data clump</li> <li>Reduces coupling</li> <li>Easiert to change 5) Parameter coupling. Passing and inspecting objects in methods increases coupling, less parameters is better. 6) Behaviour magnet. Now that we have the appropriate classes, we have a place to put behaviour. 7) Refactor and improve performance of the classes we have probably with native behaviour 8) Extract behavior into private methods 9) Collection as first class citisens so we have a place to put collection behaviour 10) We do not have all data in objects (null data). Pej: a Job may not have a contact name. We have to check it all over the place. NullContact (Null-Object pattern). NullContact (name and phone). No need for conditions or obfuscation. 11) Adapter pattern. A user managing payments (Depending on Braintree). Depend upon abstractions. If I want to change the payment provider I have to change a lot of places. Extract it to a PaymentGateway and make the user depend on that abstraction. Easy to mock and test.</li> </ul> <p>When to refactor:</p> <ul> <li>All the time. Refactor on green. On code review</li> <li>God objects (like user, the main class of the business journey)</li> <li>High churn files, a file that changes all the time. Do not waste a lot of effort on files that don’t change often</li> <li>Bug</li> </ul> <p>Check out for number of lines, there are better ways of measuring complexity</p> <p>References:</p> <ul> <li><a href="https://www.goodreads.com/book/show/3735293-clean-code">Clean Code</a></li> <li><a href="https://www.goodreads.com/book/show/4268826-growing-object-oriented-software-guided-by-tests">GOOS</a></li> </ul> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
